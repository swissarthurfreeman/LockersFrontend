<br>
<div class="container">
  <div class="jumbotron bg-dark text-white">
      <h4 class="display-6">Aaaah, {{siteName}}...</h4><br>
      <div class="container">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link active" data-bs-toggle="tab" href="#home" aria-selected="true" role="tab" tabindex="-1">Consulter le parc des Casiers</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" data-bs-toggle="tab" href="#edit" aria-selected="false" role="tab" tabindex="-1">Modifier le parc des Casiers</a>
            </li>
        </ul>
        <br>
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active show" id="home" role="home">
                <div class="jumbotron bg-dark text-white">
                    <form [formGroup]="listForm" (ngSubmit)="displayList()" class="form-group">
                        <p>Cochez les localisations souhaitées :</p>
                        <div *ngFor="let loc of stateService.locations" class="custom-control custom-checkbox" class="form-check">
                            <label class="form-check-label">
                            <input formControlName="{{loc.name}}" type="checkbox" class="form-check-input" [attr.value]="isActiveLoc(loc)">
                            {{loc.name}}</label>
                        </div>
                        <p>Cochez les types de casiers souhaités :</p>
                        <div *ngFor="let stat of stateService.statuses" class="custom-control custom-checkbox" class="form-check">
                            <label class="form-check-label">
                            <input formControlName="{{stat}}" type="checkbox" class="form-check-input" [attr.value]="isActiveStat(stat)">
                            {{stat}}</label> <!-- TODO : french translation here -->
                        </div>
                        <button type="submit" class="btn btn-primary">Consulter</button>
                    </form>
                    <app-list [parentConsult]="consultClick"></app-list> 
                </div>
            </div>
            <div class="tab-pane fade" id="edit" role="tabpanel">
                <div class="row">
                    <div class="col-lg-4">
                        <p class="lead">Modifier les localisations</p>
                        <form [formGroup]="locationForm" (ngSubmit)="submitLocation()">
                            <div class="form-group form-inline" id="addLocationForm">
                                <label class="col-form-label" for="newLocation">Rajouter une localisation :</label>
                                <input id="name" formControlName="name" type="text" required="required" class="form-control input-sm" placeholder="Nouvelle Localisation">
                                <button type="submit" class="btn btn-primary" onclick="" id="newLocationButton">Rajouter</button>
                                <div id="addLocationConfirmation"></div>
                            </div>
                        </form>
                        <form [formGroup]="locationRenameForm" (ngSubmit)="renameLocation()">
                            <!-- TODO : query api to update location -->
                            <div class="form-group">
                                <label for="exampleSelect1">Renommer une localisation</label>
                                <select class="form-control" formControlName="oldName">
                                    <option *ngFor="let loc of stateService.locations" value={{loc.name}}>{{loc.name}}</option>
                                </select>
                                <input formControlName="newName" type="text" maxlength="20" class="form-control input-sm" placeholder="Nouveau Nom">      
                            </div>
                            <button type="submit" class="btn btn-primary">Renommer</button>
                            <div id="locationRenameConfirmation"></div>
                        </form>
                        <hr>
                        <form [formGroup]="lockerForm" (ngSubmit)="submitLocker()">
                            <p class="lead">Modifier les Casiers :</p>
                            <div class="form-group">
                                <label class="col-form-label" for="inputDefault">Rajouter un casier :</label>
                                <input formControlName="number" type="text" class="form-control input-sm" placeholder="numéro">
                                
                                <label>Localisation</label>
                                <select formControlName="locationName" class="form-control">
                                    <option *ngFor="let loc of stateService.locations">{{loc.name}}</option>
                                </select>
                                
                                <label>Position Verticale</label>
                                <select formControlName="verticalPosition" class="form-control">
                                    <option>au sol</option>
                                    <option>mi-hauteur</option>
                                    <option>en hauteur</option>
                                </select>
                                
                                <label>Nécéssite Clef de loge</label>
                                <select formControlName="lock" class="form-control">
                                    <option>non</option>
                                    <option>oui</option>
                                </select>
                                
                                <label>Dimensions (largeur/hauteur/profondeur) [cm]</label>
                                <input formControlName="dimensions" type="text" class="form-control input-sm" placeholder="Dimensions">
                            </div>
                            <button type="submit" class="btn btn-primary" onclick="">Submit</button>
                            <div id="lockerAdditionConfirmation"></div>
                        </form>
                        <hr>
                        <fieldset>
                            <div class="form-group">
                                <h2 class="danger">Zone Dangereuse</h2>
                                <label for="exampleSelect1">Supprimer une localisation</label>
                                <select class="form-control" id="locationToDelete" data-site="Bastions">
                                    <!-- TODO get all locations at site... -->
                                </select>
                            </div>
                            <button type="submit" class="btn btn-danger" onclick="">Supprimer</button>
                            <div id="locationDeletionConfirmation"></div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>
        <br>
      </div>
  </div>
</div>